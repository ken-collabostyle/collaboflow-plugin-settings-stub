# コラボフロー プラグイン設定画面開発用スタブ

## 概要

このリポジトリは、コラボフローのプラグイン設定画面をローカル環境で開発・テストするためのスタブです。実際のコラボフロー環境を必要とせずに、プラグイン設定の取得、保存、フォームパーツ情報の取得といった動作を模倣します。

`index.html`を直接ブラウザで開くことで、プラグイン設定画面のUIと挙動を素早く確認できます。

## 主な機能

- **プラグイン設定の管理**: `localStorage`
  を利用して、プラグインの設定情報を永続化します。
- **フォームパーツ情報の提供**:
  コラボフローの各種フォームパーツのダミー情報を取得できます。
- **版ごとの設定**:
  複数の版（バージョン）ごとの設定情報を個別に保存・取得できます。

## ファイル構成と役割

- `index.html`
  - プラグイン設定画面のUIです。このファイルをブラウザで開いて開発を進めます。
- `js/settings/settings.js`
  - `index.html`
    のUIイベント（ボタンクリックなど）を処理し、`plugin-settings-stub.js`
    の関数を呼び出すメインのスクリプトです。
- `js/settings/plugin-settings-stub.js`
  - コラボフローのプラグインAPIの動作を模倣するスタブです。このファイル内の
    `collaboflowPlugin` オブジェクトがAPIのインターフェースを提供します。
    - `getSettings(version)`: 指定された版の設定を取得します。
    - `saveSettings(jsonData, version)`: 指定された版に設定を保存します。
    - `getFormItems()`: フォームパーツのダミー定義を取得します。

## 使い方

1. このリポジトリをクローンまたはダウンロードします。
2. `index.html` ファイルをウェブブラウザで開きます。
3. 画面上のUIを使って、以下の操作をテストできます。
   - **版選択**: ドロップダウンで設定の版を選択します。
   - **取得**: 選択した版のプラグイン設定をテキストエリアに読み込みます。
   - **保存**:
     テキストエリアの内容を選択した版のプラグイン設定として保存します。
   - **パーツ選択と追加**:
     ドロップダウンからフォームパーツを選択し、「テキストに追加」ボタンでパーツの名称をテキストエリアに挿入します。

## 開発について

`js/settings/settings.js`
を編集して、あなたのプラグイン設定画面のロジックを実装してください。UIの変更は
`index.html` で行います。

`plugin-settings-stub.js` の `formItemsData`
定数を変更することで、テストに使用するフォームパーツの情報をカスタマイズすることも可能です。
